(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fc3b"],{"2uYv":function(e,t,s){"use strict";var a=s("UDD5");s.n(a).a},Timz:function(e,t,s){"use strict";var a=s("qvc3");s.n(a).a},UDD5:function(e,t,s){},qeMi:function(e,t,s){"use strict";s.r(t);var a=s("14Xm"),r=s.n(a),n=s("D3Ub"),o=s.n(n),i=s("gjeX"),l=s.n(i),c=s("wk8/"),m=s("QqA1"),p=s.n(m),u={data:function(){return{mode:"mobile",smsCount:-1,mobileForm:{mobile_phone:"",password:"",code:""},emailCount:-1,emailLoading:!1,emailForm:{email:"",password:"",code:""},emailRules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不低于6位",trigger:"blur"}]},loading:!1,pwdType:"password",redirect:void 0}},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},mobileSubmit:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(/\d{11}/.test(e.mobileForm.mobile_phone)){t.next=3;break}return e.$message({type:"warning",message:"请输入正确的手机号"}),t.abrupt("return");case 3:if(e.mobileForm.code){t.next=6;break}return e.$message({type:"warning",message:"请输入验证码"}),t.abrupt("return");case 6:if(e.mobileForm.password){t.next=9;break}return e.$message({type:"warning",message:"请输入密码"}),t.abrupt("return");case 9:return t.next=11,Object(c.f)({mobile_phone:e.mobileForm.mobile_phone,code:e.mobileForm.code,password:l()(e.mobileForm.password)});case 11:if(null!==t.sent){t.next=14;break}return t.abrupt("return");case 14:e.$message({type:"success",message:"注册成功，请登录"}),e.$router.push({path:"/login"});case 16:case"end":return t.stop()}},t,e)}))()},emailSubmit:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.emailForm.validate(function(){var t=o()(r.a.mark(function t(s){var a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:return e.emailLoading=!0,(a=p()({},e.emailForm)).password=l()(a.password),t.next=7,Object(c.f)(a);case 7:if(n=t.sent,e.emailLoading=!1,null!==n){t.next=11;break}return t.abrupt("return");case 11:e.$message({type:"success",message:"注册成功，请登录"}),e.$router.push({path:"/login"});case 13:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},sendSMS:function(){var e=this;return o()(r.a.mark(function t(){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.smsCount>=0)){t.next=2;break}return t.abrupt("return");case 2:if(/\d{11}/.test(e.mobileForm.mobile_phone)){t.next=5;break}return e.$message({type:"warning",message:"请输入正确的手机号"}),t.abrupt("return");case 5:return t.next=7,Object(c.h)({mobile_phone:e.mobileForm.mobile_phone});case 7:if(null!==t.sent){t.next=10;break}return t.abrupt("return");case 10:e.$message({type:"success",message:"短信发送成功"}),e.smsCount=60,s=setInterval(function(){e.smsCount<=0&&clearInterval(s),e.smsCount-=1},1e3);case 13:case"end":return t.stop()}},t,e)}))()},sendMail:function(){var e=this;return o()(r.a.mark(function t(){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.emailCount>=0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(c.g)({email:e.emailForm.email});case 4:if(null!==t.sent){t.next=7;break}return t.abrupt("return");case 7:e.$message({type:"success",message:"发送成功"}),e.emailCount=60,s=setInterval(function(){e.emailCount<=0&&clearInterval(s),e.emailCount-=1},1e3);case 10:case"end":return t.stop()}},t,e)}))()}}},d=(s("Timz"),s("2uYv"),s("KHd+")),v=Object(d.a)(u,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},["mobile"==e.mode?s("el-form",{ref:"mobileForm",staticClass:"login-form",attrs:{model:e.mobileForm,"auto-complete":"on","label-position":"left"}},[s("h3",{staticClass:"title"},[e._v("手机注册")]),e._v(" "),s("el-form-item",{attrs:{prop:"phone"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"phone"}})],1),e._v(" "),s("el-input",{attrs:{type:"text","auto-complete":"on",placeholder:"请输入手机号"},model:{value:e.mobileForm.mobile_phone,callback:function(t){e.$set(e.mobileForm,"mobile_phone",t)},expression:"mobileForm.mobile_phone"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"phone"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"verifycode"}})],1),e._v(" "),s("el-input",{attrs:{type:"text","auto-complete":"on",placeholder:"验证码"},model:{value:e.mobileForm.code,callback:function(t){e.$set(e.mobileForm,"code",t)},expression:"mobileForm.code"}}),e._v(" "),s("div",{staticClass:"verify-btn",on:{click:e.sendSMS}},[e._v(e._s(e.smsCount>=0?e.smsCount:"获取验证码"))])],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.mobileForm.password,callback:function(t){e.$set(e.mobileForm,"password",t)},expression:"mobileForm.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.pwdType?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},on:{click:e.mobileSubmit}},[e._v("\n                注册\n            ")])],1),e._v(" "),s("div",{staticClass:"tips"},[s("a",{on:{click:function(t){e.mode="email"}}},[e._v("邮箱注册")]),e._v(" "),s("span",{staticClass:"tips-line"},[e._v("|")]),e._v(" "),s("router-link",{staticClass:"tips-link",attrs:{to:{path:"/login"},href:""}},[e._v("登录")])],1)],1):s("el-form",{ref:"emailForm",staticClass:"login-form",attrs:{model:e.emailForm,rules:e.emailRules,"auto-complete":"on","label-position":"left"}},[s("h3",{staticClass:"title"},[e._v("邮箱注册")]),e._v(" "),s("el-form-item",{attrs:{prop:"email"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"email"}})],1),e._v(" "),s("el-input",{attrs:{type:"text","auto-complete":"on",placeholder:"请输入邮箱"},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"code"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"verifycode"}})],1),e._v(" "),s("el-input",{attrs:{type:"text","auto-complete":"on",placeholder:"验证码"},model:{value:e.emailForm.code,callback:function(t){e.$set(e.emailForm,"code",t)},expression:"emailForm.code"}}),e._v(" "),s("div",{staticClass:"verify-btn",on:{click:e.sendMail}},[e._v(e._s(e.emailCount>=0?e.emailCount:"获取验证码"))])],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.emailSubmit(t):null}},model:{value:e.emailForm.password,callback:function(t){e.$set(e.emailForm,"password",t)},expression:"emailForm.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.pwdType?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.emailLoading,type:"primary"},on:{click:e.emailSubmit}},[e._v("\n                注册\n            ")])],1),e._v(" "),s("div",{staticClass:"tips"},[s("a",{on:{click:function(t){e.mode="mobile"}}},[e._v("手机注册")]),e._v(" "),s("span",{staticClass:"tips-line"},[e._v("|")]),e._v(" "),s("router-link",{staticClass:"tips-link",attrs:{to:{path:"/login"},href:""}},[e._v("登录")])],1)],1)],1)},[],!1,null,"b89682e8",null);v.options.__file="Register.vue";t.default=v.exports},qvc3:function(e,t,s){}}]);